<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Garhani Pro Quiz</title>

<script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>

<style>
body{
margin:0;
font-family:Arial, sans-serif;
background:linear-gradient(-45deg,#0f172a,#1e293b,#334155,#0f172a);
background-size:400% 400%;
animation:gradientBG 10s ease infinite;
color:white;
transition:0.4s;
}

@keyframes gradientBG{
0%{background-position:0% 50%;}
50%{background-position:100% 50%;}
100%{background-position:0% 50%;}
}

.light{
background:#f1f5f9;
color:#0f172a;
animation:none;
}

header{
padding:40px;
text-align:center;
}

h1{font-size:40px;}

.btn{
padding:10px 20px;
border:none;
border-radius:25px;
cursor:pointer;
margin:5px;
font-weight:bold;
}

.primary{background:#f97316;color:white;}
.secondary{background:#64748b;color:white;}

.progress{
width:100%;
background:#334155;
height:10px;
border-radius:20px;
margin-bottom:20px;
}

.progress-bar{
height:10px;
width:0%;
background:#f97316;
border-radius:20px;
transition:0.3s;
}

section{
padding:40px 10%;
text-align:center;
}

#quizBox{
max-width:600px;
margin:auto;
}

.option{
display:block;
margin:10px 0;
padding:10px;
background:#1e293b;
border-radius:10px;
cursor:pointer;
}

.option:hover{
background:#f97316;
}

.timeline{
text-align:left;
max-width:600px;
margin:auto;
}

.timeline div{
margin:15px 0;
padding-left:20px;
border-left:3px solid #f97316;
}

#certificateBox{
background:white;
color:#0f172a;
padding:40px;
border-radius:15px;
max-width:700px;
margin:auto;
border:8px solid gold;
box-shadow:0 0 30px gold;
}

.medal{
font-size:60px;
}

.toggle{
position:fixed;
top:20px;
right:20px;
}

.adminBtn{
position:fixed;
bottom:10px;
right:10px;
background:black;
color:white;
border:none;
padding:8px 12px;
cursor:pointer;
}
</style>
</head>

<body>

<button class="btn secondary toggle" onclick="toggleMode()">üåô</button>

<header>
<h1>Garhani Village Pro Quiz</h1>
<p>Test Your Knowledge & Earn Professional Certificate</p>
</header>

<section id="quiz">
<div id="quizBox">
<div class="progress">
<div class="progress-bar" id="progressBar"></div>
</div>
<h2 id="question"></h2>
<div id="options"></div>
</div>
</section>

<section id="timeline">
<h2>My Journey</h2>
<div class="timeline">
<div>üéì Started Learning Coding</div>
<div>üíª Built First Website</div>
<div>üèÜ Created Village Quiz</div>
<div>üöÄ Future Developer Goal</div>
</div>
</section>

<section id="certificate" style="display:none;">
<h2>Your Certificate</h2>
<div id="certificateBox">
<div class="medal" id="medalIcon"></div>
<h1>Certificate of Achievement</h1>
<p>This certificate is proudly presented to</p>
<h2 id="certName" style="color:#f97316;"></h2>
<p id="certGrade"></p>
<p>Certificate ID: <span id="certID"></span></p>
<p>Date: <span id="certDate"></span></p>
<br>
<p>Authorized By Aayu</p>
</div>
<br>
<input type="text" id="username" placeholder="Enter Your Name" style="padding:10px;border-radius:20px;border:none;">
<br><br>
<button class="btn primary" onclick="generateCertificate()">Generate</button>
<button class="btn secondary" onclick="downloadCertificate()">Download</button>
</section>

<section id="adminPanel" style="display:none; padding:40px 10%; background:#111827;">
<h2>Admin Panel</h2>
<input type="password" id="adminPass" placeholder="Enter Admin Password">
<button class="btn primary" onclick="loginAdmin()">Login</button>

<div id="adminControls" style="display:none; margin-top:20px;">
<h3>Add New Question</h3>
<input type="text" id="newQ" placeholder="Question"><br><br>
<input type="text" id="opt1" placeholder="Option 1"><br><br>
<input type="text" id="opt2" placeholder="Option 2"><br><br>
<input type="text" id="opt3" placeholder="Option 3"><br><br>
<input type="text" id="opt4" placeholder="Option 4"><br><br>
<input type="number" id="correctIndex" placeholder="Correct Index (0-3)"><br><br>
<button class="btn primary" onclick="addQuestion()">Add Question</button>

<h3 style="margin-top:30px;">Delete Last Question</h3>
<button class="btn secondary" onclick="deleteQuestion()">Delete</button>
</div>
</section>

<button class="adminBtn" onclick="document.getElementById('adminPanel').style.display='block'">‚öô</button>

<script>

let questions=[
{q:"Garhani is in which state?",a:["Bihar","UP","Delhi","Punjab"],c:0},
{q:"Capital of Bihar?",a:["Patna","Delhi","Lucknow","Ranchi"],c:0},
{q:"HTML stands for?",a:["Hyper Text Markup Language","High Tool","Home Tool","None"],c:0},
{q:"CSS is used for?",a:["Styling","Cooking","Drawing","Gaming"],c:0},
{q:"JS stands for?",a:["JavaScript","JustStyle","JavaSystem","None"],c:0},
{q:"India Independence Year?",a:["1947","1950","1930","1960"],c:0},
{q:"Village is part of?",a:["India","USA","UK","Nepal"],c:0},
{q:"Coding is?",a:["Skill","Food","Game","Car"],c:0},
{q:"Garhani is famous for?",a:["Village Life","Beach","Mountain","Metro"],c:0},
{q:"Bihar CM?",a:["Nitish Kumar","Modi","Yogi","None"],c:0}
];

if(localStorage.getItem("quizData")){
questions=JSON.parse(localStorage.getItem("quizData"));
}

let current=0;
let score=0;

function loadQuestion(){
let q=questions[current];
document.getElementById("question").innerText=q.q;
let optionsHTML="";
q.a.forEach((opt,i)=>{
optionsHTML+=`<div class="option" onclick="checkAnswer(${i})">${opt}</div>`;
});
document.getElementById("options").innerHTML=optionsHTML;
document.getElementById("progressBar").style.width=((current)/questions.length)*100+"%";
}

function checkAnswer(i){
if(i===questions[current].c){score++;}
current++;
if(current<questions.length){loadQuestion();}
else{finishQuiz();}
}

function finishQuiz(){
document.getElementById("quiz").style.display="none";
document.getElementById("certificate").style.display="block";
}

function generateCertificate(){
let name=document.getElementById("username").value;
if(name===""){alert("Enter Name");return;}

let percentage=(score/questions.length)*100;
let grade="";
let medal="";

if(percentage>=90){grade="Gold Level"; medal="ü•á";}
else if(percentage>=70){grade="Silver Level"; medal="ü•à";}
else{grade="Bronze Level"; medal="ü•â";}

document.getElementById("certName").innerText=name;
document.getElementById("certGrade").innerText="Awarded: "+grade+" ("+percentage+"%)";
document.getElementById("medalIcon").innerText=medal;
document.getElementById("certDate").innerText=new Date().toLocaleDateString();
document.getElementById("certID").innerText="GAR-"+Math.floor(Math.random()*100000);
}

function downloadCertificate(){
html2canvas(document.querySelector("#certificateBox")).then(canvas=>{
let link=document.createElement("a");
link.download="certificate.png";
link.href=canvas.toDataURL();
link.click();
});
}

function toggleMode(){
document.body.classList.toggle("light");
}

function loginAdmin(){
let pass=document.getElementById("adminPass").value;
if(pass==="admin123"){
document.getElementById("adminControls").style.display="block";
alert("Admin Logged In");
}else{alert("Wrong Password");}
}

function addQuestion(){
let q=document.getElementById("newQ").value;
let options=[
opt1.value,opt2.value,opt3.value,opt4.value
];
let correct=parseInt(correctIndex.value);
questions.push({q:q,a:options,c:correct});
localStorage.setItem("quizData",JSON.stringify(questions));
alert("Question Added");
}

function deleteQuestion(){
questions.pop();
localStorage.setItem("quizData",JSON.stringify(questions));
alert("Last Question Deleted");
}

loadQuestion();

</script>

</body>
</html>
